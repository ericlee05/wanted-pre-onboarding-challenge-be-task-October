# 1번 문제 해설
> 동시에 같은 DB Table row 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

해설에 앞서, `동시에 동일한 Table row를 업데이트하는 상황`을 `동시성 문제`라고 간단히 줄여서 설명하겠습니다.   
동시성 문제를 해결하기 위한 대표적인 방법으로는 Lock(잠금)을 이용한 방법이 존재합니다.

쉽게 설명하자면 수정 중인 테이블 row에 대해서 읽기/쓰기 잠금 등을 걸어두어 타인이 동시에 데이터에 접근하지 못하도록 하는 방식인데, 조금 더 자세히 설명해 보겠습니다.   

먼저 Lock의 종류에는 낙관적 락과 비관적 락이 있습니다. 낙관적 락은 데이터 충돌이 일어나지 않을 것이라고 생각하고 데이터를 수정한 뒤, 트랜잭션이 커밋되기 직전에 충돌 여부를 확인하는 방식입니다. 만약 충돌이 발견될 경우, 해당 트랜잭션은 롤백 처리가 되기 때문에 충돌이 자주 일어나는 경우에는 낙관적 락을 사용하지 않는 게 좋습니다. (트랜잭션 롤백이 너무 자주 일어나게 될 것이기 때문)
   
비관적 락의 경우, row의 충돌이 발생할 것을 상정하고 미리 읽기/쓰기 잠금을 걸어두는 방식입니다. 먼저 접근한 트랜잭션이 데이터에 락을 걸게 되고, 이후 접근을 시도하는 트랜잭션은 앞에서 작업중인 트랜잭션이 커밋되기 이전까지는 대기하게 되는 방식인 것입니다. 이러한 방식은 충돌이 자주 발생하는 시스템에서 적용하는 것이 적절하다고 생각됩니다.
   
따라서 저는 이러한 락을 다음과 같이 적용하여 서비스를 개발할 거 같습니다:
 * 동시 수정 가능성이 낮은 데이터: 낙관적 락
 * 동시 수정 가능성이 높은 데이터: 비관적 락
